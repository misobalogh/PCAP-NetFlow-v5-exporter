### Michal Balogh, xbalog06
12-11-2024

# p2nprobe

Program číta pakety z PCAP súboru zadaného ako argument programu a tie spracuje a agreguje do tokov pomocou údajov z paketov. Toky potom pomocou protokolu UDP odošle na kolektor vo formáte Netflow v5, kde sú tieto toky ďalej spracované a analyzované. Program p2nprobe je len exportér a je zameraný len na záznamy o tokoch TCP.

Program `p2nprobe` je implementovaný v jazyku C++ verzia C++17 a využíva knižnicu `libpcap`. 


# Príklady spustenia

### Komplilácia
Program je možné skompilovať pomocou `Makefile` a príkazu `make` v koreňovom adresári projektu.
```
make
```
### Spustenie
Program je možné spustiť s nasledujúcimi argumentami:
```
./p2nprobe <host>:<port> <pcap_file_path> [-a <active_timeout> -i <inactive_timeout>]
```
Kde:
- `<pcap_file_path>` - cesta k PCAP súboru, ktorý sa má čítať,
- `<host>` - IP adresa kolektora, kam sa majú odosielať toky,
- `<port>` - port kolektora, kam sa majú odosielať toky,
- `<active_timeout>` - aktívny timeout, po ktorom je tok ukončený (defaultná hodnota 60 sekúnd),
- `<inactive_timeout>` - neaktívny timeout, po ktorom je tok ukončený (defaultná hodnota 60 sekúnd).

Príklad spustenia:
```
./p2nprobe localhost:9995 pcaps/tcp.pcap -a 60 -i 60
```

# Zoznam súborov
```
README
manual.pdf
Makefile
docs/
    └── class_diagram.png
include/
    ├── ArgParser.h
    ├── ErrorCodes.h
    ├── Exporter.h
    ├── Flow.h
    ├── FlowKey.h
    ├── FlowManager.h
    ├── NetFlowV5Key.h
    ├── NetFlowV5header.h
    ├── NetFlowV5record.h
    └── PcapReader.h
src/
    ├── ArgParser.cpp
    ├── Exporter.cpp
    ├── Flow.cpp
    ├── FlowManager.cpp
    ├── NetFlowV5Key.cpp
    ├── PcapReader.cpp
    └── main.cpp
tests/
    ├── __init__.py
    ├── netflowV5format.py
    ├── netflowcollector.py
    ├── test_args.py
    └── test_probe.py
```